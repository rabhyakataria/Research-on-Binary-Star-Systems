import numpy as np
import matplotlib.pyplot as plt

M1 = 0.5
M2 = 0.6
L1 = 0.05
L2 = 0.1

a_bin = 3
e_bin = 0.45
a_p = 0.3
theta = np.linspace(0, 2 * np.pi, 1000)
d_t = (a_bin*(1-e_bin**2))/(1+e_bin*np.cos(theta))
r1 = 0.3
r2 = np.sqrt(a_p**2+d_t**2 - 2*a_p*d_t*np.cos(theta))

F1 = L1/ (r1**2)
F2 = L2/ (r2**2)
F_total = F1 + F2
F_Earth = 1.0

F_norm = F_total/F_Earth

mu = M2/(M1+M2)
a_crit = a_bin*(0.464 - 0.380*mu - 0.631*e_bin + 0.586*mu*e_bin + 0.150*e_bin**2 - 0.198*mu*e_bin**2)
print("Critical stable orbit radius (a_crit) =", a_crit, "AU")
if a_p < a_crit :
    print ("planet orbit is STABLE (a_p < a_crit)")
else:
    print ("Planet orbit is NOT stable (a_p < a_crit)")

plt.plot (theta, F_norm)
plt.axhline(1.06,linestyle="--",color="green")
plt.axhline(0.36, linestyle="--",color="red")
plt.xlabel("Orbital Phase (radians)")
plt.ylabel("Flux(relative to earth)")
plt.title("Habitable Zone Stability for S-type Planet")
plt.show()
